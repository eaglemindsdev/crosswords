const __vite__fileDeps=["./CxBw6NOV.js","./CNqXBxn2.js","./entry.uUuj8pLK.css","./BWiNefnl.js","./BpIY1J_G.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{O as e,v as a,P as r,Q as t,R as n,S as s,H as i,T as o,r as l,U as c,z as u,V as d,W as p,X as f,q as y,i as h,j as m,Y as g,_}from"./CNqXBxn2.js";import{u as v,h as w}from"./BpIY1J_G.js";function D(...f){var y;const h="string"==typeof f[f.length-1]?f.pop():void 0;"string"!=typeof f[0]&&f.unshift(h);let[m,g,_={}]=f;if("string"!=typeof m)throw new TypeError("[nuxt] [asyncData] key must be a string.");if("function"!=typeof g)throw new TypeError("[nuxt] [asyncData] handler must be a function.");const v=l(),w=g;_.server=_.server??!0,_.default=_.default??(()=>null),_.getCachedData=_.getCachedData??(()=>v.isHydrating?v.payload.data[m]:v.static.data[m]),_.lazy=_.lazy??!1,_.immediate=_.immediate??!0,_.deep=_.deep??e.deep,_.dedupe=_.dedupe??"cancel";const D=()=>null!=_.getCachedData(m,v);if(!v._asyncData[m]||!_.immediate){(y=v.payload._errors)[m]??(y[m]=null);const e=_.deep?a:r;v._asyncData[m]={data:e(_.getCachedData(m,v)??_.default()),pending:a(!D()),error:t(v.payload._errors,m),status:a("idle")}}const P={...v._asyncData[m]};P.refresh=P.execute=(e={})=>{if(v._asyncDataPromises[m]){if("defer"===(a=e.dedupe??_.dedupe)||!1===a)return v._asyncDataPromises[m];v._asyncDataPromises[m].cancelled=!0}var a;if((e._initial||v.isHydrating&&!1!==e._initial)&&D())return Promise.resolve(_.getCachedData(m,v));P.pending.value=!0,P.status.value="pending";const r=new Promise(((e,a)=>{try{e(w(v))}catch(r){a(r)}})).then((async e=>{if(r.cancelled)return v._asyncDataPromises[m];let a=e;_.transform&&(a=await _.transform(e)),_.pick&&(a=function(e,a){const r={};for(const t of a)r[t]=e[t];return r}(a,_.pick)),v.payload.data[m]=a,P.data.value=a,P.error.value=null,P.status.value="success"})).catch((e=>{if(r.cancelled)return v._asyncDataPromises[m];P.error.value=c(e),P.data.value=u(_.default()),P.status.value="error"})).finally((()=>{r.cancelled||(P.pending.value=!1,delete v._asyncDataPromises[m])}));return v._asyncDataPromises[m]=r,v._asyncDataPromises[m]},P.clear=()=>function(e,a){a in e.payload.data&&(e.payload.data[a]=void 0);a in e.payload._errors&&(e.payload._errors[a]=null);e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=null,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle");a in e._asyncDataPromises&&(e._asyncDataPromises[a].cancelled=!0,e._asyncDataPromises[a]=void 0)}(v,m);const b=()=>P.refresh({_initial:!0}),C=!1!==_.server&&v.payload.serverRendered;{const e=d();if(e&&!e._nuxtOnBeforeMountCbs){e._nuxtOnBeforeMountCbs=[];const a=e._nuxtOnBeforeMountCbs;n((()=>{a.forEach((e=>{e()})),a.splice(0,a.length)})),s((()=>a.splice(0,a.length)))}C&&v.isHydrating&&(P.error.value||D())?(P.pending.value=!1,P.status.value=P.error.value?"error":"success"):e&&(v.payload.serverRendered&&v.isHydrating||_.lazy)&&_.immediate?e._nuxtOnBeforeMountCbs.push(b):_.immediate&&b();const a=p();if(_.watch){const e=i(_.watch,(()=>P.refresh()));a&&o(e)}const r=v.hook("app:data:refresh",(async e=>{e&&!e.includes(m)||await P.refresh()}));a&&o(r)}const $=Promise.resolve(v._asyncDataPromises[m]).then((()=>P));return Object.assign($,P),$}const P=(e,a)=>a.split(".").reduce(((e,a)=>e&&e[a]),e),b=(e,a)=>Object.keys(e).filter(a).reduce(((a,r)=>Object.assign(a,{[r]:e[r]})),{}),C=e=>a=>e&&e.length?b(a,(a=>!e.includes(a))):a,$=e=>a=>Array.isArray(a)?a.map((a=>e(a))):e(a),x=e=>{const a=[],r=[];for(const t of e)["$","_"].includes(t)?a.push(t):r.push(t);return{prefixes:a,properties:r}},O=(e=[])=>a=>{if(0===e.length||!a)return a;const{prefixes:r,properties:t}=x(e);return b(a,(e=>!t.includes(e)&&!r.includes(e[0])))},E=(e=[])=>a=>{if(0===e.length||!a)return a;const{prefixes:r,properties:t}=x(e);return b(a,(e=>t.includes(e)||r.includes(e[0])))},j=(e,a)=>{const r=new Intl.Collator(a.$locale,{numeric:a.$numeric,caseFirst:a.$caseFirst,sensitivity:a.$sensitivity}),t=Object.keys(a).filter((e=>!e.startsWith("$")));for(const n of t)e=e.sort(((e,t)=>{const s=[P(e,n),P(t,n)].map((e=>{if(null!==e)return e instanceof Date?e.toISOString():e}));return-1===a[n]&&s.reverse(),r.compare(s[0],s[1])}));return e},k=(e,a="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(a)},S=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],T=["sort","where","only","without"];function A(e,a={}){const r={};for(const i of Object.keys(a.initialParams||{}))r[i]=T.includes(i)?S(a.initialParams[i]):a.initialParams[i];const t=(e,a=(e=>e))=>(...t)=>(r[e]=a(...t),s),n=e=>{var r;return a.legacy?(null==e?void 0:e.surround)?e.surround:e?((null==e?void 0:e.dirConfig)&&(e.result={_path:null==(r=e.dirConfig)?void 0:r._path,...e.result,_dir:e.dirConfig}),(null==e?void 0:e._path)||Array.isArray(e)||!Object.prototype.hasOwnProperty.call(e,"result")?e:null==e?void 0:e.result):e:e},s={params:()=>({...r,...r.where?{where:[...S(r.where)]}:{},...r.sort?{sort:[...S(r.sort)]}:{}}),only:t("only",S),without:t("without",S),where:t("where",(e=>[...S(r.where),...S(e)])),sort:t("sort",(e=>[...S(r.sort),...S(e)])),limit:t("limit",(e=>parseInt(String(e),10))),skip:t("skip",(e=>parseInt(String(e),10))),find:()=>e(s).then(n),findOne:()=>e(t("first")(!0)).then(n),count:()=>e(t("count")(!0)).then(n),locale:e=>s.where({_locale:e}),withSurround:t("surround",((e,a)=>({query:e,...a}))),withDirConfig:()=>t("dirConfig")(!0)};return a.legacy?(s.findSurround=(e,a)=>s.withSurround(e,a).find().then(n),s):s}function R(e){return JSON.stringify(e,B)}function B(e,a){return a instanceof RegExp?`--REGEX ${a.toString()}`:a}const q=e=>{let a=R(e);a="undefined"!=typeof Buffer?Buffer.from(a).toString("base64"):btoa(a),a=a.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return(a.match(/.{1,100}/g)||[]).join("/")},H=e=>f(e,y().public.content.api.baseURL),I=()=>{throw new Error("useContent is only accessible when you are using `documentDriven` mode.")},z=()=>{const{experimental:e}=y().public.content;return!!e.clientDB||v().isEnabled()};function M(e,...a){const{content:r}=y().public,t=A((async e=>{const{content:a}=y().public,r=e.params(),t=a.experimental.stripQueryParameters?H(`/query/${w(r)}.${a.integrity}/${q(r)}.json`):H(`/query/${w(r)}.${a.integrity}.json`);if(z())return(await _((()=>import("./CxBw6NOV.js")),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then((e=>e.useContentDatabase()))).fetch(e);const n=await $fetch(t,{method:"GET",responseType:"json",params:a.experimental.stripQueryParameters?void 0:{_params:R(r),previewToken:v().getPreviewToken()}});if("string"==typeof n&&n.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return n}),{initialParams:"string"!=typeof e?e:{},legacy:!0});let n;"string"==typeof e&&(n=h(m(e,...a)));const s=t.params;return t.params=()=>{var e,a,t;const i=s();if(n&&(i.where=i.where||[],i.first&&0===(i.where||[]).length?i.where.push({_path:g(n)}):i.where.push({_path:new RegExp(`^${n.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(null==(e=i.sort)?void 0:e.length)||(i.sort=[{_file:1,$numeric:!0}]),r.locales.length){(null==(t=null==(a=i.where)?void 0:a.find((e=>e._locale)))?void 0:t._locale)||(i.where=i.where||[],i.where.push({_locale:r.defaultLocale}))}return i},t}export{D as a,k as b,S as c,j as d,q as e,$ as f,P as g,O as h,E as i,R as j,A as k,C as o,M as q,z as s,I as u,H as w};
